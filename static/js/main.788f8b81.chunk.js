(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=n(1),l=n(2),s={default:{source:"video.mp4",description:""},"001":{start_time:0,end_time:30,options:[{next:"003",value:"01:00"},{next:"002",value:"00:30"},{next:"001",value:"00:00"}]},"002":{start_time:30,end_time:60,options:[{next:"004",value:"01:30"},{next:"003",value:"01:00"},{next:"002",value:"00:30"}]},"003":{start_time:60,end_time:90,options:[{next:"005",value:"02:00"},{next:"004",value:"01:30"},{next:"003",value:"01:00"}]},"004":{start_time:90,end_time:120,options:[{next:"006",value:"02:30"},{next:"005",value:"02:00"},{next:"004",value:"01:30"}]},"005":{start_time:120,end_time:150,options:[{next:"007",value:"03:00"},{next:"006",value:"02:30"},{next:"005",value:"02:00"}]},"006":{start_time:150,end_time:180,options:[{next:"008",value:"03:30"},{next:"007",value:"03:00"},{next:"006",value:"02:30"}]},"007":{start_time:180,end_time:210,options:[{next:"009",value:"04:00"},{next:"008",value:"03:30"},{next:"007",value:"03:00"}]},"008":{start_time:210,end_time:240,options:[{next:"009",value:"04:00"},{next:"008",value:"03:30"}]},"009":{start_time:240,end_time:null}},u=Object(a.createContext)({}),m={stage:0,allowControls:!0,showDecisionBox:!1,selectedOption:0,currentSource:s["001"],nextSource:{}},d=function(e,t){var n=Object(i.a)(t,2),a=n[0],r=n[1];switch(console.log(a),a){case"DECISION_PREPARE":return Object(l.a)({},e,{stage:1,allowControls:!1});case"DECISION_START":return Object(l.a)({},e,{stage:2,showDecisionBox:!0});case"DECISION_SELECTED":return Object(l.a)({},e,{stage:3,selectedOption:r});case"DECISION_PREPARE_END":var c=e.selectedOption,o=e.currentSource.options[c],u=s[o.next];return Object(l.a)({},e,{stage:4,nextSource:u});case"DECISION_END":return Object(l.a)({},e,{stage:0,selectedOption:0,allowControls:!0,showDecisionBox:!1,currentSource:e.nextSource,nextSource:{}});default:throw new Error("Unknown Action Type: ".concat(a))}},v=function(e){var t=e.children,n=Object(a.useReducer)(d,m),c=Object(i.a)(n,2),o=c[0],l=c[1];return r.a.createElement(u.Provider,{value:[o,l]},t)},E=function(e){var t=e.visible,n=void 0===t?1:t,a=e.selectable,c=void 0===a?1:a,o=["option"];return n&&o.push("visible"),c&&o.push("selectable"),r.a.createElement("div",Object.assign({className:o.join(" ")},e),r.a.createElement("div",null,e.children),r.a.createElement("div",{className:"underline effect"}))},f=function(e){var t=e.color,n=void 0===t?"white":t,a=r.a.useState(0),c=Object(i.a)(a,2),o=c[0],l=c[1];r.a.useEffect(function(){var e=0,t=setInterval(function(){l((e+=50)/1e4)},50);return function(){clearInterval(t)}},[]);var s={backgroundColor:n,width:100*o+"%"};return r.a.createElement("div",{className:"loading-bar"},r.a.createElement("div",{style:s}))},p=n(5),x=n.n(p),_=function(){var e=r.a.useContext(u),t=Object(i.a)(e,2),n=t[0],a=t[1],c=n.stage,o=n.selectedOption,l=n.currentSource,s=n.nextSource,m=r.a.createRef(),d=r.a.createRef(),v=r.a.useState(!1),p=Object(i.a)(v,2),_=p[0],O=p[1],w=r.a.useState(document.fullscreen),N=Object(i.a)(w,2),b=N[0],S=N[1];r.a.useEffect(function(){document.addEventListener("fullscreenchange",function(e){S(document.fullscreen)})},[]);var C=function(e){m.current.currentTime+=e};return r.a.createElement("div",{ref:d,className:"container"},r.a.createElement("div",{className:"app-video-section"},r.a.createElement("video",{ref:m,src:x.a,onTimeUpdate:function(e){var t=e.target;if(console.log(t.currentTime.toFixed(2)),null!==l.end_time){var n=l.end_time-15;return 0===c&&t.currentTime>=n?a(["DECISION_PREPARE"]):1===c&&t.currentTime>=n+3?a(["DECISION_START"]):(2===c||3===c)&&t.currentTime>=n+13?a(["DECISION_PREPARE_END"]):4===c&&t.currentTime>=n+15?(Math.abs(t.currentTime-s.start_time)>2&&(t.currentTime=s.start_time),a(["DECISION_END"])):void 0}},onPlay:function(){return O(!0)},onPause:function(){return O(!1)}}),r.a.createElement("div",{className:"control-section"},r.a.createElement("div",{className:"controls ".concat(n.allowControls?"allow":"")},r.a.createElement("div",{onClick:function(){var e=m.current;e.paused?e.play():e.pause()}},_?r.a.createElement("i",{className:"fas fa-pause"}):r.a.createElement("i",{className:"fas fa-play"})),r.a.createElement("div",{onClick:function(){return C(-10)}},r.a.createElement("i",{className:"fas fa-undo-alt"})),r.a.createElement("div",{onClick:function(){return C(10)}},r.a.createElement("i",{className:"fas fa-redo-alt"})),r.a.createElement("div",{onClick:function(){document.fullscreen?document.exitFullscreen():d.current.requestFullscreen()}},b?r.a.createElement("i",{className:"fas fa-compress"}):r.a.createElement("i",{className:"fas fa-expand"})))),r.a.createElement("div",{className:"decision-box",style:{transform:"translateY(".concat(n.showDecisionBox?0:"100%",")")}},(2===c||3===c)&&r.a.createElement(f,{color:3===c?"grey":"white"}),l.options&&l.options.map(function(e,t){var n=2===c||c>=3&&t===o?1:0,i=3===c||4===c?0:1;return r.a.createElement(E,{key:t,visible:n,selectable:i,onClick:function(){return a(["DECISION_SELECTED",t])}},e.value)}))))};n(12),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},5:function(e,t,n){e.exports=n.p+"static/media/video.366d4100.mp4"},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.788f8b81.chunk.js.map